import{_ as b,u as k,g as V,o as E,c as C,a as n,b as t,w as o,h as a,i as I,E as g,p as B,j as z,k as L,l as S,m as x,n as U,q as p,s as i,t as K,v as N,x as P,y as $,z as j,A as q,B as A}from"./index-86ee9e39.js";/* empty css                  *//* empty css                *//* empty css                */const y=r=>(K("data-v-77f78cf9"),r=r(),N(),r),F={style:{"text-align":"center",margin:"0 20px"}},M=y(()=>n("div",{style:{"margin-top":"20px"}},[n("div",{style:{"font-size":"25px","font-weight":"bold"}},"登录"),n("div",{style:{"font-size":"14px",color:"grey"}}," 在进入系统之前请先输入用户名和密码进行登录 ")],-1)),R={style:{"margin-top":"50px"}},T={style:{"margin-top":"40px"}},D=y(()=>n("div",{class:"divider__text"},[n("span",{style:{color:"rgb(255, 255, 255)","font-size":"13px"}},"---------没有账号---------")],-1)),G={__name:"LoginPage",setup(r){const d=k(),s=V({username:"",password:"",remember:!1}),u=()=>{!s.username||!s.password?g.warning("请填写用户名和密码！"):B("/api/auth/login",{username:s.username,password:s.password,remember:s.remember},_=>{g.success(_),P("/api/user/me",e=>{d.auth.user=e,p.push("/index")},()=>{d.auth.user=null})})};return(_,e)=>{const m=$,v=j,c=q,w=A,h=z,f=L;return E(),C("div",F,[M,n("div",R,[t(a(x),{modelValue:s.username,"onUpdate:modelValue":e[0]||(e[0]=l=>s.username=l),type:"text",placeholder:"用户名/邮箱"},{prefix:o(()=>[t(m,null,{default:o(()=>[t(a(S))]),_:1})]),_:1},8,["modelValue"]),t(a(x),{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=l=>s.password=l),type:"password",style:{"margin-top":"10px"},placeholder:"密码",onKeyup:I(u,["enter"])},{prefix:o(()=>[t(m,null,{default:o(()=>[t(a(U))]),_:1})]),_:1},8,["modelValue","onKeyup"])]),t(h,{style:{"margin-top":"5px"}},{default:o(()=>[t(c,{span:12,style:{"text-align":"left"}},{default:o(()=>[t(v,{modelValue:s.remember,"onUpdate:modelValue":e[2]||(e[2]=l=>s.remember=l),label:"记住我"},null,8,["modelValue"])]),_:1}),t(c,{span:12,style:{"text-align":"right"}},{default:o(()=>[t(w,{onClick:e[3]||(e[3]=l=>a(p).push("/forget"))},{default:o(()=>[i("忘记密码？")]),_:1})]),_:1})]),_:1}),n("div",T,[t(f,{onClick:e[4]||(e[4]=l=>u()),style:{width:"270px"},type:"success",plain:""},{default:o(()=>[i("立即登录")]),_:1})]),D,n("div",null,[t(f,{style:{width:"270px"},onClick:e[5]||(e[5]=l=>a(p).push("/register")),type:"warning",plain:""},{default:o(()=>[i("注册账号")]),_:1})])])}}},W=b(G,[["__scopeId","data-v-77f78cf9"]]);export{W as default};
